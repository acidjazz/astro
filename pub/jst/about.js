var About;

About = {
  jobs: false,
  hsbpdInterval: false,
  hsbpdSection: 'holistic',
  cache: {},
  i: function() {
    _.off('.orbit');
    dbar.d();
    About.cache.hsbpd = $('.hsbpd');
    About.cache.blocks = $('.blocks');
    About.cache.blocksp = $('.blocksp');
    About.handlers();
    if (location.hash !== "") {
      return About.menu(location.hash.replace('#', ''));
    }
  },
  handlers: function() {
    if ($(window).width() > 1000) {
      $('.hsbpd > .dots > .dot').on('click', About.hsbpdHandler);
    } else {
      $('.about > .fcontainer > .filters > .inner > .arrows > .arrow').on('click', About.arrowsHandler);
    }
    $('.capcenter > .capmenu > .cap').on('click', About.capcenter);
    $('.fived > .fivedmenu > .item').on('click', About.fived);
    $('.about > .fcontainer > .filters > .inner > .filtermenu > .filter, .info.emails > a.p').on('click', About.menuHandler);
    $('.about > .sections > .section_careers').on('click', '.jobs > .job', About.jobHandler);
    if ($(window).width() > 1000) {
      About.hsbpdInterval = setInterval(function() {
        return About.hsbpdCheck();
      }, 10);
    }
    $('.profiles > .profile').on('click', About.profile);
    return $('.bios > .bio > .close, .bios > .bio').on('click', About.profileClose);
  },
  profile: function() {
    var bio, pos, profile, rect, t, width;
    t = $(this);
    profile = t.data('profile');
    rect = t[0].getBoundingClientRect();
    pos = t.position();
    width = $(window).innerWidth();
    About.profileClose();
    _.on($('.bios'));
    _.on(t);
    bio = $(".bios > .bio.bio_" + profile);
    bio.css('height', rect.height + "px");
    bio.css('top', (pos.top + rect.height) + "px");
    bio.css('left', 0);
    bio.css('right', 0);
    bio.css('width', '100%');
    if (width > (rect.width * 2)) {
      if (width === Math.round(rect.right)) {
        bio.css('width', (rect.width * 2) + "px");
        bio.css('right', "0px");
        bio.css('left', "auto");
      } else if (rect.left === 0) {
        bio.css('width', (rect.width * 2) + "px");
        bio.css('left', "0px");
        bio.css('right', "auto");
      } else {
        bio.css('width', (rect.width * 2) + "px");
        bio.css('left', pos.left + "px");
        bio.css('right', "auto");
      }
    }
    if ($(window).width() < 1000) {
      bio.css('height', "auto");
    }
    _.on(bio);
    return $('html, body').animate({
      scrollTop: t.offset().top - 64
    }, 200);
  },
  profileClose: function() {
    _.off($('.bios'));
    _.off($('.bios > .bio'));
    return _.off($('.profiles > .profile'));
  },
  menuHandler: function() {
    var section;
    section = $(this).data('filter');
    return About.menu(section);
  },
  arrowsHandler: function() {
    var current, index, j, len, section, sections;
    sections = ['capabilities', 'process', 'clients', 'studio', 'careers'];
    current = $('.fcontainer > .filters > .inner > .filtermenu > .filter.on').data('filter');
    for (index = j = 0, len = sections.length; j < len; index = ++j) {
      section = sections[index];
      if (section === current) {
        if ($(this).hasClass('right')) {
          if (index !== 4) {
            About.menu(sections[index + 1]);
          }
          if (index === 4) {
            About.menu(sections[0]);
          }
        }
        if ($(this).hasClass('left')) {
          if (index !== 0) {
            About.menu(sections[index - 1]);
          }
          if (index === 0) {
            About.menu(sections[4]);
          }
        }
      }
    }
    return true;
  },
  menu: function(section) {
    location.hash = section;
    if (section === 'careers' && About.jobs === false) {
      Loader.load('https://api.greenhouse.io/v1/boards/astrostudios/embed/jobs?callback=About.joblist');
    }
    _.off('.about > .fcontainer > .filters > .inner > .filtermenu > .filter', '.sections > .section');
    _.on(".fcontainer > .filters > .inner > .filtermenu > .filter.filter_" + section, ".sections > .section.section_" + section);
    if ($(window).width() > 1000) {
      return $('html, body').animate({
        scrollTop: $(".sections").offset().top - 60
      }, 1000);
    } else {
      return $('html, body').animate({
        scrollTop: $(".sections").offset().top - 322
      }, 300);
    }
  },
  hsbpdCheck: function() {
    var b, i, j, len, results, section, sections, st, t, threshold, top;
    st = $(window).scrollTop();
    top = 1386;
    threshold = 631;
    if (st >= top && !About.cache.hsbpd.hasClass('fixed')) {
      About.cache.hsbpd.addClass('fixed').removeClass('bottom');
      About.cache.blocks.addClass('fixed');
      About.cache.blocksp.removeClass('off').addClass('on');
    }
    if (st < top && About.cache.hsbpd.hasClass('fixed')) {
      About.cache.hsbpd.removeClass('fixed').removeClass('bottom');
      About.cache.blocks.removeClass('fixed');
      About.cache.blocksp.removeClass('on').addClass('off');
    }
    if (st >= (top + (threshold * 5))) {
      About.cache.hsbpd.removeClass('fixed').addClass('bottom');
    }
    if (st < top) {
      return true;
    }
    sections = ['holistic', 'strategy', 'brand', 'product', 'digital'];
    results = [];
    for (i = j = 0, len = sections.length; j < len; i = ++j) {
      section = sections[i];
      t = top + ((i + 0) * threshold);
      b = top + ((i + 1) * threshold);
      if (st > t && st < b && About.hsbpdSection !== section) {
        results.push(About.hsbpd(section));
      } else {
        results.push(void 0);
      }
    }
    return results;
  },
  hsbpdHandler: function() {
    var section;
    section = $(this).data('section');
    return About.hsbpd(section);
  },
  hsbpd: function(section) {
    About.hsbpdSection = section;
    $('.hsbpd > .slide.on').addClass('offing').removeClass('on');
    _.on(".hsbpd > .slide.slide_" + section[0]);
    setTimeout(function() {
      _.off('.hsbpd > .slide.offing');
      return $('.hsbpd > .slide.offing').removeClass('offing');
    }, 3000);
    _.off('.hsbpd > .dots > .dot');
    return _.on(".hsbpd > .dots > .dot_" + section);
  },
  capcenter: function() {
    var cap;
    cap = $(this).html().trim();
    _.off('.capcenter > .capmenu > .cap', '.capcenter > .descs > .desc');
    return _.on(this, ".capcenter > .descs > .desc_" + cap);
  },
  fived: function() {
    var item;
    item = $(this).find('.copy > .name').html().trim();
    _.off('.fived > .fivedmenu > .item', '.fived > .bodys > .body');
    return _.on(this, ".fived > .bodys > .body_" + item);
  },
  jobHandler: function() {
    var t;
    t = $(this);
    if (t.hasClass('on')) {
      return _.off(t);
    }
    _.off('.about > .sections > .section_careers > .jobs > .job');
    return _.on(this);
  },
  joblist: function(data) {
    var count, j, job, len, ref, results, total;
    About.jobs = {};
    total = Object.keys(data.jobs).length;
    count = 0;
    ref = data.jobs;
    results = [];
    for (j = 0, len = ref.length; j < len; j++) {
      job = ref[j];
      results.push($.ajax({
        url: "https://api.greenhouse.io/v1/boards/astrostudios/embed/job?id=" + job.id + "?callback=About.job",
        type: 'GET',
        dataType: 'jsonp',
        crossDomain: true,
        jsonpCallback: 'About.job',
        complete: function(response) {
          count++;
          if (count === total) {
            return About.jobulate();
          }
        }
      }));
    }
    return results;
  },
  job: function(job) {
    return About.jobs[job.id] = job;
  },
  jobulate: function() {
    var apply, content, el, id, job, jobsEl, ref, results;
    jobsEl = $('.jobs');
    ref = About.jobs;
    results = [];
    for (id in ref) {
      job = ref[id];
      el = $("<div class='job off'><div class='title'>" + job.title + "</div><div class='content'></div></div>");
      content = el.find('.content');
      content.html($('<div/>').html(job.content).text());
      apply = $("<a href='" + job.absolute_url + "' target='_new' class='apply'>Apply Now</a>");
      content.append(apply);
      results.push(jobsEl.append(el));
    }
    return results;
  }
};

//# sourceMappingURL=data:application/json;base64,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QUFORjs7RUFIUSxDQWxPViIsImZpbGUiOiJhYm91dC5qcyIsInNvdXJjZVJvb3QiOiIvc291cmNlLyIsInNvdXJjZXNDb250ZW50IjpbIkFib3V0ID1cbiAgam9iczogZmFsc2VcbiAgaHNicGRJbnRlcnZhbDogZmFsc2VcbiAgaHNicGRTZWN0aW9uOiAnaG9saXN0aWMnXG4gIGNhY2hlOiB7fVxuXG4gIGk6IC0+XG5cbiAgICBfLm9mZiAnLm9yYml0J1xuICAgIGRiYXIuZCgpXG5cbiAgICBBYm91dC5jYWNoZS5oc2JwZCA9ICQgJy5oc2JwZCdcbiAgICBBYm91dC5jYWNoZS5ibG9ja3MgPSAkICcuYmxvY2tzJ1xuICAgIEFib3V0LmNhY2hlLmJsb2Nrc3AgPSAkICcuYmxvY2tzcCdcblxuICAgIEFib3V0LmhhbmRsZXJzKClcblxuICAgIGlmIGxvY2F0aW9uLmhhc2ggaXNudCBcIlwiXG4gICAgICBBYm91dC5tZW51IGxvY2F0aW9uLmhhc2gucmVwbGFjZSAnIycsJydcblxuICBoYW5kbGVyczogLT5cblxuICAgIGlmICQod2luZG93KS53aWR0aCgpID4gMTAwMFxuICAgICAgJCgnLmhzYnBkID4gLmRvdHMgPiAuZG90Jykub24gJ2NsaWNrJywgQWJvdXQuaHNicGRIYW5kbGVyXG4gICAgZWxzZVxuICAgICAgJCgnLmFib3V0ID4gLmZjb250YWluZXIgPiAuZmlsdGVycyA+IC5pbm5lciA+IC5hcnJvd3MgPiAuYXJyb3cnKS5vbiAnY2xpY2snLCBBYm91dC5hcnJvd3NIYW5kbGVyXG5cbiAgICAkKCcuY2FwY2VudGVyID4gLmNhcG1lbnUgPiAuY2FwJykub24gJ2NsaWNrJywgQWJvdXQuY2FwY2VudGVyXG4gICAgJCgnLmZpdmVkID4gLmZpdmVkbWVudSA+IC5pdGVtJykub24gJ2NsaWNrJywgQWJvdXQuZml2ZWRcblxuICAgICQoJy5hYm91dCA+IC5mY29udGFpbmVyID4gLmZpbHRlcnMgPiAuaW5uZXIgPiAuZmlsdGVybWVudSA+IC5maWx0ZXIsIC5pbmZvLmVtYWlscyA+IGEucCcpLm9uICdjbGljaycsXG4gICAgICBBYm91dC5tZW51SGFuZGxlclxuICAgICQoJy5hYm91dCA+IC5zZWN0aW9ucyA+IC5zZWN0aW9uX2NhcmVlcnMnKS5vbiAnY2xpY2snLCAnLmpvYnMgPiAuam9iJywgQWJvdXQuam9iSGFuZGxlclxuXG4gICAgaWYgJCh3aW5kb3cpLndpZHRoKCkgPiAxMDAwXG4gICAgICBBYm91dC5oc2JwZEludGVydmFsID0gc2V0SW50ZXJ2YWwgLT5cbiAgICAgICAgQWJvdXQuaHNicGRDaGVjaygpXG4gICAgICAsIDEwXG5cbiAgICAkKCcucHJvZmlsZXMgPiAucHJvZmlsZScpLm9uICdjbGljaycsIEFib3V0LnByb2ZpbGVcbiAgICAkKCcuYmlvcyA+IC5iaW8gPiAuY2xvc2UsIC5iaW9zID4gLmJpbycpLm9uICdjbGljaycsIEFib3V0LnByb2ZpbGVDbG9zZVxuXG4gIHByb2ZpbGU6IC0+XG5cbiAgICB0ID0gJCB0aGlzXG4gICAgcHJvZmlsZSA9IHQuZGF0YSAncHJvZmlsZSdcbiAgICByZWN0ID0gdFswXS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKVxuICAgIHBvcyA9IHQucG9zaXRpb24oKVxuICAgIHdpZHRoID0gJCh3aW5kb3cpLmlubmVyV2lkdGgoKVxuXG4gICAgQWJvdXQucHJvZmlsZUNsb3NlKClcbiAgICBfLm9uICQoJy5iaW9zJylcbiAgICBfLm9uIHRcbiAgICBiaW8gPSAkKFwiLmJpb3MgPiAuYmlvLmJpb18je3Byb2ZpbGV9XCIpXG5cbiAgICBiaW8uY3NzKCdoZWlnaHQnLCBcIiN7cmVjdC5oZWlnaHR9cHhcIilcbiAgICBiaW8uY3NzKCd0b3AnLCBcIiN7cG9zLnRvcCArIHJlY3QuaGVpZ2h0fXB4XCIpXG5cbiAgICBiaW8uY3NzKCdsZWZ0JywgMClcbiAgICBiaW8uY3NzKCdyaWdodCcsIDApXG4gICAgYmlvLmNzcygnd2lkdGgnLCAnMTAwJScpXG5cbiAgICBpZiB3aWR0aCA+IChyZWN0LndpZHRoKjIpXG5cbiAgICAgIGlmIHdpZHRoIGlzIE1hdGgucm91bmQocmVjdC5yaWdodClcbiAgICAgICAgYmlvLmNzcygnd2lkdGgnLCBcIiN7cmVjdC53aWR0aCoyfXB4XCIpXG4gICAgICAgIGJpby5jc3MoJ3JpZ2h0JywgXCIwcHhcIilcbiAgICAgICAgYmlvLmNzcygnbGVmdCcsIFwiYXV0b1wiKVxuICAgICAgZWxzZSBpZiByZWN0LmxlZnQgaXMgMFxuICAgICAgICBiaW8uY3NzKCd3aWR0aCcsIFwiI3tyZWN0LndpZHRoKjJ9cHhcIilcbiAgICAgICAgYmlvLmNzcygnbGVmdCcsIFwiMHB4XCIpXG4gICAgICAgIGJpby5jc3MoJ3JpZ2h0JywgXCJhdXRvXCIpXG4gICAgICBlbHNlXG4gICAgICAgIGJpby5jc3MoJ3dpZHRoJywgXCIje3JlY3Qud2lkdGgqMn1weFwiKVxuICAgICAgICBiaW8uY3NzKCdsZWZ0JywgXCIje3Bvcy5sZWZ0fXB4XCIpXG4gICAgICAgIGJpby5jc3MoJ3JpZ2h0JywgXCJhdXRvXCIpXG5cbiAgICBpZiAkKHdpbmRvdykud2lkdGgoKSA8IDEwMDBcbiAgICAgIGJpby5jc3MoJ2hlaWdodCcsIFwiYXV0b1wiKVxuXG4gICAgXy5vbiBiaW9cblxuICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKFxuICAgICAgc2Nyb2xsVG9wOiB0Lm9mZnNldCgpLnRvcCAtIDY0XG4gICAgLCAyMDApXG5cbiAgcHJvZmlsZUNsb3NlOiAtPlxuXG4gICAgXy5vZmYgJCgnLmJpb3MnKVxuICAgIF8ub2ZmICQoJy5iaW9zID4gLmJpbycpXG4gICAgXy5vZmYgJCgnLnByb2ZpbGVzID4gLnByb2ZpbGUnKVxuXG4gIG1lbnVIYW5kbGVyOiAtPlxuICAgIHNlY3Rpb24gPSAkKHRoaXMpLmRhdGEgJ2ZpbHRlcidcbiAgICBBYm91dC5tZW51IHNlY3Rpb25cblxuICBhcnJvd3NIYW5kbGVyOiAtPlxuXG4gICAgc2VjdGlvbnMgPSBbJ2NhcGFiaWxpdGllcycsICdwcm9jZXNzJywnY2xpZW50cycsJ3N0dWRpbycsJ2NhcmVlcnMnXVxuXG4gICAgY3VycmVudCA9ICQoJy5mY29udGFpbmVyID4gLmZpbHRlcnMgPiAuaW5uZXIgPiAuZmlsdGVybWVudSA+IC5maWx0ZXIub24nKS5kYXRhICdmaWx0ZXInXG5cbiAgICBmb3Igc2VjdGlvbiwgaW5kZXggaW4gc2VjdGlvbnNcbiAgICAgIGlmIHNlY3Rpb24gaXMgY3VycmVudFxuICAgICAgICBpZiAkKHRoaXMpLmhhc0NsYXNzICdyaWdodCdcbiAgICAgICAgICBBYm91dC5tZW51KHNlY3Rpb25zW2luZGV4KzFdKSBpZiBpbmRleCBpc250IDRcbiAgICAgICAgICBBYm91dC5tZW51KHNlY3Rpb25zWzBdKSBpZiBpbmRleCBpcyA0XG4gICAgICAgIGlmICQodGhpcykuaGFzQ2xhc3MgJ2xlZnQnXG4gICAgICAgICAgQWJvdXQubWVudShzZWN0aW9uc1tpbmRleC0xXSkgaWYgaW5kZXggaXNudCAwXG4gICAgICAgICAgQWJvdXQubWVudShzZWN0aW9uc1s0XSkgaWYgaW5kZXggaXMgMFxuICAgICAgXG4gICAgcmV0dXJuIHRydWVcblxuICBtZW51OiAoc2VjdGlvbikgLT5cblxuICAgIGxvY2F0aW9uLmhhc2ggPSBzZWN0aW9uXG5cbiAgICBpZiBzZWN0aW9uIGlzICdjYXJlZXJzJyBhbmQgQWJvdXQuam9icyBpcyBmYWxzZVxuICAgICAgTG9hZGVyLmxvYWQgJ2h0dHBzOi8vYXBpLmdyZWVuaG91c2UuaW8vdjEvYm9hcmRzL2FzdHJvc3R1ZGlvcy9lbWJlZC9qb2JzP2NhbGxiYWNrPUFib3V0LmpvYmxpc3QnXG5cblxuICAgIF8ub2ZmICcuYWJvdXQgPiAuZmNvbnRhaW5lciA+IC5maWx0ZXJzID4gLmlubmVyID4gLmZpbHRlcm1lbnUgPiAuZmlsdGVyJywgJy5zZWN0aW9ucyA+IC5zZWN0aW9uJ1xuICAgIF8ub24gXCIuZmNvbnRhaW5lciA+IC5maWx0ZXJzID4gLmlubmVyID4gLmZpbHRlcm1lbnUgPiAuZmlsdGVyLmZpbHRlcl8je3NlY3Rpb259XCIsXG4gICAgICBcIi5zZWN0aW9ucyA+IC5zZWN0aW9uLnNlY3Rpb25fI3tzZWN0aW9ufVwiXG5cbiAgICBpZiAkKHdpbmRvdykud2lkdGgoKSA+IDEwMDBcbiAgICAgICQoJ2h0bWwsIGJvZHknKS5hbmltYXRlKFxuICAgICAgICBzY3JvbGxUb3A6ICQoXCIuc2VjdGlvbnNcIikub2Zmc2V0KCkudG9wIC0gNjBcbiAgICAgICwgMTAwMClcbiAgICBlbHNlXG4gICAgICAkKCdodG1sLCBib2R5JykuYW5pbWF0ZShcbiAgICAgICAgc2Nyb2xsVG9wOiAkKFwiLnNlY3Rpb25zXCIpLm9mZnNldCgpLnRvcCAtIDMyMlxuICAgICAgLCAzMDApXG5cbiAgaHNicGRDaGVjazogLT5cblxuICAgIHN0ID0gJCh3aW5kb3cpLnNjcm9sbFRvcCgpXG5cbiAgICB0b3AgPSAxMzg2XG4gICAgdGhyZXNob2xkID0gNjMxXG5cbiAgICBpZiBzdCA+PSB0b3AgYW5kICFBYm91dC5jYWNoZS5oc2JwZC5oYXNDbGFzcyAnZml4ZWQnXG4gICAgICBBYm91dC5jYWNoZS5oc2JwZC5hZGRDbGFzcygnZml4ZWQnKS5yZW1vdmVDbGFzcyAnYm90dG9tJ1xuICAgICAgQWJvdXQuY2FjaGUuYmxvY2tzLmFkZENsYXNzKCdmaXhlZCcpXG4gICAgICBBYm91dC5jYWNoZS5ibG9ja3NwLnJlbW92ZUNsYXNzKCdvZmYnKS5hZGRDbGFzcygnb24nKVxuICAgIGlmIHN0IDwgdG9wIGFuZCBBYm91dC5jYWNoZS5oc2JwZC5oYXNDbGFzcyAnZml4ZWQnXG4gICAgICBBYm91dC5jYWNoZS5oc2JwZC5yZW1vdmVDbGFzcygnZml4ZWQnKS5yZW1vdmVDbGFzcyAnYm90dG9tJ1xuICAgICAgQWJvdXQuY2FjaGUuYmxvY2tzLnJlbW92ZUNsYXNzKCdmaXhlZCcpXG4gICAgICBBYm91dC5jYWNoZS5ibG9ja3NwLnJlbW92ZUNsYXNzKCdvbicpLmFkZENsYXNzKCdvZmYnKVxuICAgIGlmIHN0ID49ICh0b3AgKyAodGhyZXNob2xkKjUpKVxuICAgICAgQWJvdXQuY2FjaGUuaHNicGQucmVtb3ZlQ2xhc3MoJ2ZpeGVkJykuYWRkQ2xhc3MgJ2JvdHRvbSdcblxuICAgIGlmIHN0IDwgdG9wXG4gICAgICByZXR1cm4gdHJ1ZVxuXG4gICAgc2VjdGlvbnMgPSBbJ2hvbGlzdGljJywnc3RyYXRlZ3knLCdicmFuZCcsJ3Byb2R1Y3QnLCdkaWdpdGFsJ11cbiAgICBmb3Igc2VjdGlvbiwgaSBpbiBzZWN0aW9uc1xuICAgICAgdCA9IHRvcCArICggKGkrMCkgKiB0aHJlc2hvbGQgKVxuICAgICAgYiA9IHRvcCArICggKGkrMSkgKiB0aHJlc2hvbGQgKVxuXG4gICAgICBpZiBzdCA+IHQgYW5kIHN0IDwgYiBhbmQgQWJvdXQuaHNicGRTZWN0aW9uIGlzbnQgc2VjdGlvblxuICAgICAgICBBYm91dC5oc2JwZCBzZWN0aW9uXG5cbiAgaHNicGRIYW5kbGVyOiAtPlxuICAgIHNlY3Rpb24gPSAkKHRoaXMpLmRhdGEgJ3NlY3Rpb24nXG4gICAgQWJvdXQuaHNicGQgc2VjdGlvblxuXG4gIGhzYnBkOiAoc2VjdGlvbikgLT5cblxuICAgIEFib3V0LmhzYnBkU2VjdGlvbiA9IHNlY3Rpb25cblxuICAgICQoJy5oc2JwZCA+IC5zbGlkZS5vbicpLmFkZENsYXNzKCdvZmZpbmcnKS5yZW1vdmVDbGFzcygnb24nKVxuXG4gICAgXy5vbiBcIi5oc2JwZCA+IC5zbGlkZS5zbGlkZV8je3NlY3Rpb25bMF19XCJcblxuICAgIHNldFRpbWVvdXQgLT5cbiAgICAgIF8ub2ZmICcuaHNicGQgPiAuc2xpZGUub2ZmaW5nJ1xuICAgICAgJCgnLmhzYnBkID4gLnNsaWRlLm9mZmluZycpLnJlbW92ZUNsYXNzKCdvZmZpbmcnKVxuICAgICwgMzAwMFxuXG4gICAgXy5vZmYgJy5oc2JwZCA+IC5kb3RzID4gLmRvdCdcbiAgICBfLm9uIFwiLmhzYnBkID4gLmRvdHMgPiAuZG90XyN7c2VjdGlvbn1cIlxuXG4gIGNhcGNlbnRlcjogLT5cblxuICAgIGNhcCA9ICQodGhpcykuaHRtbCgpLnRyaW0oKVxuICAgIF8ub2ZmICcuY2FwY2VudGVyID4gLmNhcG1lbnUgPiAuY2FwJywgJy5jYXBjZW50ZXIgPiAuZGVzY3MgPiAuZGVzYydcbiAgICBfLm9uIHRoaXMsIFwiLmNhcGNlbnRlciA+IC5kZXNjcyA+IC5kZXNjXyN7Y2FwfVwiXG5cbiAgZml2ZWQ6IC0+XG5cbiAgICBpdGVtID0gJCh0aGlzKS5maW5kKCcuY29weSA+IC5uYW1lJykuaHRtbCgpLnRyaW0oKVxuICAgIF8ub2ZmICcuZml2ZWQgPiAuZml2ZWRtZW51ID4gLml0ZW0nLCAnLmZpdmVkID4gLmJvZHlzID4gLmJvZHknXG4gICAgXy5vbiB0aGlzLCBcIi5maXZlZCA+IC5ib2R5cyA+IC5ib2R5XyN7aXRlbX1cIlxuXG5cbiAgam9iSGFuZGxlcjogLT5cblxuICAgIHQgPSAkIHRoaXNcblxuICAgIGlmIHQuaGFzQ2xhc3MgJ29uJ1xuICAgICAgcmV0dXJuIF8ub2ZmIHRcblxuICAgIF8ub2ZmICcuYWJvdXQgPiAuc2VjdGlvbnMgPiAuc2VjdGlvbl9jYXJlZXJzID4gLmpvYnMgPiAuam9iJ1xuICAgIF8ub24gdGhpc1xuXG4gIGpvYmxpc3Q6IChkYXRhKSAtPlxuXG4gICAgQWJvdXQuam9icyA9IHt9XG5cbiAgICB0b3RhbCA9IE9iamVjdC5rZXlzKGRhdGEuam9icykubGVuZ3RoXG4gICAgY291bnQgPSAwXG5cbiAgICBmb3Igam9iIGluIGRhdGEuam9ic1xuICAgICAgJC5hamF4XG4gICAgICAgIHVybDogXCJodHRwczovL2FwaS5ncmVlbmhvdXNlLmlvL3YxL2JvYXJkcy9hc3Ryb3N0dWRpb3MvZW1iZWQvam9iP2lkPSN7am9iLmlkfT9jYWxsYmFjaz1BYm91dC5qb2JcIlxuICAgICAgICB0eXBlOiAnR0VUJ1xuICAgICAgICBkYXRhVHlwZTogJ2pzb25wJ1xuICAgICAgICBjcm9zc0RvbWFpbjogdHJ1ZVxuICAgICAgICBqc29ucENhbGxiYWNrOiAnQWJvdXQuam9iJ1xuICAgICAgICBjb21wbGV0ZTogKHJlc3BvbnNlKSAtPlxuICAgICAgICAgIGNvdW50KytcbiAgICAgICAgICBBYm91dC5qb2J1bGF0ZSgpIGlmIGNvdW50IGlzIHRvdGFsXG5cbiAgam9iOiAoam9iKSAtPlxuICAgIEFib3V0LmpvYnNbam9iLmlkXSA9IGpvYlxuXG4gIGpvYnVsYXRlOiAtPlxuICAgIGpvYnNFbCA9ICQgJy5qb2JzJ1xuXG4gICAgZm9yIGlkLCBqb2Igb2YgQWJvdXQuam9ic1xuICAgICAgZWwgPSAkKFwiPGRpdiBjbGFzcz0nam9iIG9mZic+PGRpdiBjbGFzcz0ndGl0bGUnPiN7am9iLnRpdGxlfTwvZGl2PjxkaXYgY2xhc3M9J2NvbnRlbnQnPjwvZGl2PjwvZGl2PlwiKVxuICAgICAgY29udGVudCA9IGVsLmZpbmQgJy5jb250ZW50J1xuICAgICAgY29udGVudC5odG1sICQoJzxkaXYvPicpLmh0bWwoam9iLmNvbnRlbnQpLnRleHQoKVxuICAgICAgYXBwbHkgPSAkKFwiPGEgaHJlZj0nI3tqb2IuYWJzb2x1dGVfdXJsfScgdGFyZ2V0PSdfbmV3JyBjbGFzcz0nYXBwbHknPkFwcGx5IE5vdzwvYT5cIilcbiAgICAgIGNvbnRlbnQuYXBwZW5kIGFwcGx5XG4gICAgICBqb2JzRWwuYXBwZW5kIGVsXG5cblxuXG4iXX0=
